var bio = {
  "name" : "John R. Partridge",
  "role" : "Trade Compliance Guru",
  "contacts" : {
    "mobile" : "404-964-2628",
    "email" : "john.r.partridge@gmail.com",
    "github" : "strawberrysocialist",
    "twitter" : "@jrpartridge",
    "location" : "Phoenix, AZ, USA"
  },
  "bioPic" : "./images/me.jpg",
  "welcomeMessage" : "Trade Expertise for a More Complex World",
  "skills" : [
    "US Customs",
    "FDA",
    "FCC",
    "DOT",
    "EPA"
  ]
};
var work = {
  "jobs": [
    {
      "employer" : "Kuehne + Nagel, Inc.",
      "title" : "District License Holder & Business Systems Analyst",
      "location" : "Phoenix, AZ, USA",
      "dates" : "June 2013-Present",
      "description" : "Developed reporting solutions and tools for various US brokerage operations. Managed projects ensuring successful completion on time. Conferred with external and internal customers to gather business requirements. Liaised with programmers where necessary to develop larger business and customer solutions. Tested and implemented system enhancements."
    },
    {
      "employer" : "Kuehne + Nagel, Inc.",
      "title" : "District License Holder & Customs Brokerage Manager",
      "location" : "Phoenix, AZ, USA",
      "dates" : "June 2013-May 2014",
      "description" : "Cleared goods through US Customs. Advised customers on import compliance including CBP, OGAs (FDA, FCC, CPSC, etc), and the pros and cons of various Incoterms."
    },
    {
      "employer" : "DHL Global Forwarding",
      "title" : "Licensed Customs Broker",
      "location" : "Phoenix, AZ, USA",
      "dates" : "Feburary 2012-June 2013",
      "description" : "Cleared goods through US Customs. Advised customers on import compliance including CBP, OGAs (FDA, FCC, CPSC, etc), and the pros and cons of various Incoterms.  Compiled reference materials, created templates and tools and streamlined processes to help other entry writers. Educated other entry writers on import requirements, free trade agreements, AD/CVD scope determinations, etc. Automated numerous aspects of business processes to reduce processing time. Completed numerous special projects to boost efficiency. Worked to unify departmental processes across teams. Facilitated change and boosted communication while serving on the Guiding Coalition."
    },
    {
      "employer" : "Expeditors International",
      "title" : "Business Process Analyst",
      "location" : "Salt Lake City, UT, USA",
      "dates" : "May 2008-January 2009",
      "description" : "Monitored company's performance with internal ISO 9001:2000 quality program. Developed and implemented process improvements in coordination with management. Wrote scripts to automate or improve the quality control of processes."
    },
    {
      "employer" : "Expeditors International",
      "title" : "Import Compliance Officer",
      "location" : "Salt Lake City, UT, USA",
      "dates" : "May 2007-January 2009",
      "description" : "Drafted and coordinated communications with U.S. Customs (CBP), e.g., PEAs, protests, CF28s, CF29s, etc., and other government agencies (OGAs) for the branch and most importers. Advised importers (including several large sports apparel retailers) on classification, valuation and other issues. Managed the timely submission of duties to CBP (via check & ACH) for all importers. Ensured compliance with all regulations through regular monthly audits and other assessments. Monitored regulatory developments and kept all necessary branch personnel abreast of any changes. Underwrote customs bonds and obtained approval from the surety company where required."
    }
  ]
};
var projects = {
  "projects" : [
    {
      "title" : "Webpage",
      "dates" : "January 2015",
      "description" : "Build basic webpage using HTML5 and CSS3.",
      "images" : ["./images/project1.png"]
    }
  ]
};
var education = {
  "schools" : [
    {
      "name" : "Emory University School of Law",
      "location" : "Atlanta, GA, USA",
      "degree" : "Juris Doctor",
      "majors" : ["Law"],
      "dates" : "May 2005",
      "url" : "http:/law.emory.edu"
    },
    {
      "name" : "Oberlin College",
      "location" : "Oberlin, OH, USA",
      "degree" : "Bachelor of Arts",
      "majors" : ["History", " Economics", " Political Science"],
      "dates" : "May 2000",
      "url" : "http://www.oberlin.edu"
    },
    {
      "name" : "Glendale Community College",
      "location" : "Glendale, AZ, USA",
      "degree" : "Associate of Arts",
      "majors" : ["Liberal Arts"],
      "dates" : "July 1996",
      "url" : "http://www2.gccaz.edu"
    }
  ],
  "onlineCourses" : [
    {
      "title" : "The Analytics Edge",
      "school" : "edX",
      "program" : "",
      "date" : "May 2014",
      "url" : "http:/www.edx.org"
    },
    {
      "title" : "The Data Scientist's Toolbox",
      "school" : "Coursera",
      "program" : "Data Science",
      "date" : "June 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "R Programming",
      "school" : "Coursera",
      "program" : "Data Science",
      "date" : "June 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "Getting and Cleaning Data",
      "school" : "Coursera",
      "program" : "Data Science",
      "date" : "June 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "Exploratory Data Analysis",
      "school" : "Coursera",
      "program" : "Data Science",
      "date" : "July 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "Reproducible Research",
      "school" : "Coursera",
      "program" : "Data Science",
      "date" : "July 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "Developing Data Products",
      "school" : "Coursera",
      "program" : "Data Science",
      "date" : "September 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "Model Thinking",
      "school" : "Coursera",
      "program" : "",
      "date" : "September 2014",
      "url" : "http:/www.coursera.org"
    },
    {
      "title" : "Paradigms of Computer Programming - Fundamentals",
      "school" : "edX",
      "program" : "",
      "date" : "November 2014",
      "url" : "http:/www.edx.org"
    },
    {
      "title" : "Paradigms of Computer Programming - Abstraction and Concurrency",
      "school" : "edX",
      "program" : "",
      "date" : "January 2015",
      "url" : "http:/www.edx.org"
    },
    {
      "title" : "Into to HTML and CSS",
      "school" : "Udacity",
      "program" : "Front-End Web Developer Nanodegree",
      "date" : "January 2015",
      "url" : "http:/www.udacity.com"
    },
    {
      "title" : "Javascript Basics",
      "school" : "Udacity",
      "program" : "Front-End Web Developer Nanodegree",
      "date" : "January 2015",
      "url" : "http:/www.udacity.com"
    }
  ]
};

bio.listContacts = function(selector) {
  var contactIDs = Object.getOwnPropertyNames(bio.contacts);
  if (contactIDs.length > 0) {
    for (var contactID in contactIDs) {
      var contact = contactIDs[contactID];
      //console.log(contact + ": " + bio.contacts[contact]);
      var fullContact = HTMLcontactGeneric;
      fullContact = fullContact.replace("%contact%", contact);
      fullContact = fullContact.replace("%data%", bio.contacts[contact]);
      $(selector).append(fullContact);
    }
  }
};
bio.display = function() {
  //$("#header").append(HTMLheaderName.replace("%data%", bio.name));
  //$("#header").append(HTMLheaderRole.replace("%data%", bio.role));
  $("#topContacts").before(HTMLheaderName.replace("%data%", bio.name));
  $("#topContacts").before(HTMLheaderRole.replace("%data%", bio.role));

  bio.listContacts("#topContacts");

  $("#header").append(HTMLbioPic.replace("%data%", bio.bioPic));
  $("#header").append(HTMLWelcomeMsg.replace("%data%", bio.welcomeMessage));

  if (bio.skills.length > 0) {
    $("#header").append(HTMLskillsStart);
    for (i = 0; i < bio.skills.length; i++) {
      $("#skills").append(HTMLskills.replace("%data%", bio.skills[i]));
    }
  }
};
work.display = function() {
  for (var job in work.jobs) {
    $("#workExperience").append(HTMLworkStart);
    $(".work-entry:last").append(HTMLworkEmployer.replace("%data%", work.jobs[job].employer) + HTMLworkTitle.replace("%data%", work.jobs[job].title));
    $(".work-entry:last").append(HTMLworkDates.replace("%data%", work.jobs[job].dates));
    $(".work-entry:last").append(HTMLworkLocation.replace("%data%", work.jobs[job].location));
    $(".work-entry:last").append(HTMLworkDescription.replace("%data%", work.jobs[job].description));
  }
};
projects.display = function() {
  for (var project in projects.projects) {
    $("#projects").append(HTMLprojectStart);
    $(".project-entry:last").append(HTMLprojectTitle.replace("%data%", projects.projects[project].title));
    $(".project-entry:last").append(HTMLprojectDates.replace("%data%", projects.projects[project].dates));
    $(".project-entry:last").append(HTMLprojectDescription.replace("%data%", projects.projects[project].description));
    if (projects.projects[project].images.length > 0) {
      for (var image in projects.projects[project].images) {
        $(".project-entry:last").append(HTMLprojectImage.replace("%data%", projects.projects[project].images[image]));
      }
    }
  }
};
education.display = function() {
  for (var school in education.schools) {
    $("#education").append(HTMLschoolStart);
    $(".education-entry:last").append(HTMLschoolName.replace("%data%", education.schools[school].name) + HTMLschoolDegree.replace("%data%", education.schools[school].degree));
    $(".education-entry:last").append(HTMLschoolDates.replace("%data%", education.schools[school].dates));
    $(".education-entry:last").append(HTMLschoolLocation.replace("%data%", education.schools[school].location));
    $(".education-entry:last").append(HTMLworkDescription.replace("%data%", education.schools[school].majors));
  }
  $("#education").append(HTMLonlineClasses);
  for (var onlineCourse in education.onlineCourses) {
    $("#education").append(HTMLschoolStart);
    $(".education-entry:last").append(HTMLonlineTitle.replace("%data%", education.onlineCourses[onlineCourse].title) + HTMLonlineSchool.replace("%data%", education.onlineCourses[onlineCourse].school));
    $(".education-entry:last").append(HTMLonlineDates.replace("%data%", education.onlineCourses[onlineCourse].date));
    $(".education-entry:last").append(HTMLonlineURL.replace("%data%", education.onlineCourses[onlineCourse].url));
  }
};
var displayFooter = function() {
  $("#main").append(internationalizeButton);
  bio.listContacts("#footerContacts");
};
var inName = function() {
  var parts = bio.name.split(" ");
  return parts[0] + " " + parts[1] + " " + parts[2].toUpperCase();
};
var displayMap = function() {
  $("#mapDiv").append(googleMap);
};

bio.display();
work.display();
projects.display();
education.display();
displayFooter();
displayMap();
